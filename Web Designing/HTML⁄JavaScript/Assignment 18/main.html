<!DOCTYPE html>
<head>
    <title>Assignment 18</title>
    <link rel="stylesheet" href="/home/rayuga/Documents/BCA-3rd-Sem/Web Designing/CSS/Assignment 18/main.css">
</head>
<body>
    <div class="calculator">
        <div><input type="text" id="input" value="0"></div>
        <div>
            <table>
                <tr>
                    <td><button onclick="show(7)">7</button></td>
                    <td><button onclick="show(8)">8</button></td>
                    <td><button onclick="show(9)">9</button></td>
                    <td><button onclick="show('+')">+</button></td>
                    <td rowspan="2"><button class="fbtn" onclick="del()">C</button></td>
                </tr>
                <tr>
                    <td><button onclick="show(4)">4</button></td>
                    <td><button onclick="show(5)">5</button></td>
                    <td><button onclick="show(6)">6</button></td>
                    <td><button onclick="show('-')">-</button></td>
                </tr>
                <tr>
                    <td><button onclick="show(1)">1</button></td>
                    <td><button onclick="show(2)">2</button></td>
                    <td><button onclick="show(3)">3</button></td>
                    <td><button onclick="show('*')">*</button></td>
                    <td rowspan="2"><button class="fbtn" onclick="clr()">AC</button></td>
                </tr>
                <tr>
                    <td colspan="2"><button onclick="initialize()">=</button></td>
                    <td><button onclick="show(0)">0</button></td>
                    <td><button onclick="show('/')">/</button></td>
                </tr>
            </table>
        </div>
    </div>
    
    <script>
        var op=0;

        function show(n){
            if(document.getElementById('input').value==0){
                document.getElementById('input').value=n;
            }
            else{
                document.getElementById('input').value+=n;
                if(n=='+'||n=='-'||n=='*'||n=='/'){
                    op=n;                    
                }
            }
        }
        function initialize(){
            var arr=document.getElementById('input').value;
            if(arr.indexOf(op)>0){
                arr=arr.split(op);
                let x=parseInt(arr[0]);
                let y=parseInt(arr[1]);
                
                calculate(x,y);
            }            
        }
        function calculate(x,y){
            switch(op){
                case '+': document.getElementById('input').value=(x+y);
                break;

                case '-': document.getElementById('input').value=(x-y);
                break;

                case '*': document.getElementById('input').value=(x*y);
                break;

                case '/': document.getElementById('input').value=(x/y);
                break;

                default: document.getElementById('input').value=("Error");
                break;
            }
        }
        function clr(){
            document.getElementById("input").value="0";
        }
        function del(){
            let str=document.getElementById('input').value;
            let ar=str.slice(0,str.length-1);
            if(ar==""){
                document.getElementById('input').value="0";
                return;
            }
            document.getElementById('input').value=ar;
        }
    </script>
</body>
</html>